"use strict";(self.webpackChunktegel_modal_bug_report=self.webpackChunktegel_modal_bug_report||[]).push([[6520],{6520:(e,t,o)=>{o.r(t),o.d(t,{tds_dropdown:()=>s});var l=o(3768);const s=class{constructor(e){(0,l.r)(this,e),this.tdsChange=(0,l.c)(this,"tdsChange",6),this.tdsFocus=(0,l.c)(this,"tdsFocus",6),this.tdsBlur=(0,l.c)(this,"tdsBlur",6),this.tdsInput=(0,l.c)(this,"tdsInput",6),this.setDefaultOption=()=>{if(0!==this.host.children.length){if(this.defaultValue){const e=Array.from(this.host.children).filter((e=>"TDS-DROPDOWN-OPTION"===e.tagName));let t=!1;e.forEach((e=>(this.multiselect?this.defaultValue.split(",").forEach((o=>{o===e.value&&(e.setSelected(!0),this.value=this.value?[...this.value,e.value]:[e.value],t=!0)})):this.defaultValue===e.value?(e.setSelected(!0),this.value=[e.value],t=!0):e.setSelected(!1),this.setValueAttribute(),e))),t||console.warn('TDS DROPDOWN: No matching option found for defaultValue "'.concat(this.defaultValue,'"'))}}else console.warn("TDS DROPDOWN: Data missing. Disregard if loading data asynchronously.")},this.getChildren=()=>{const e=Array.from(this.host.children).filter((e=>"TDS-DROPDOWN-OPTION"===e.tagName));if(0!==e.length)return e;console.warn("TDS DROPDOWN: Data missing. Disregard if loading data asynchronously.")},this.getOpenDirection=()=>{var e,t,o,l,s;if("auto"===this.openDirection||!this.openDirection){const i=null!==(t=null===(e=this.dropdownList)||void 0===e?void 0:e.offsetHeight)&&void 0!==t?t:0;return(null!==(s=null===(l=(o=this.host).getBoundingClientRect)||void 0===l?void 0:l.call(o).top)&&void 0!==s?s:0)+i+57>window.innerHeight?"up":"down"}return this.openDirection},this.handleToggleOpen=()=>{this.disabled||(this.open=!this.open,this.open&&this.focusInputElement())},this.focusInputElement=()=>{this.inputElement&&this.inputElement.focus()},this.getSelectedChildren=()=>{var e;return null===(e=this.value)||void 0===e?void 0:e.map((e=>this.getChildren().find((t=>t.value===e)))).filter(Boolean)},this.getSelectedChildrenLabels=()=>{var e;return null===(e=this.getSelectedChildren())||void 0===e?void 0:e.map((e=>e.textContent.trim()))},this.getValue=()=>{const e=this.getSelectedChildrenLabels();return e?this.filter?null===e||void 0===e?void 0:e.join(", "):null===e||void 0===e?void 0:e.toString():""},this.setValueAttribute=()=>{var e,t,o;""===(null===(e=this.value)||void 0===e?void 0:e.toString())&&(this.value=null),this.host.setAttribute("value",null!==(o=null===(t=this.value)||void 0===t?void 0:t.map((e=>e)).toString())&&void 0!==o?o:null)},this.handleFilter=e=>{this.tdsInput.emit(e);const t=e.target.value.toLowerCase(),o=this.getChildren();""===t?(o.forEach((e=>(e.removeAttribute("hidden"),e))),this.filterResult=null):this.filterResult=o.filter((e=>(this.normalizeString(e.textContent).toLowerCase().includes(this.normalizeString(t).toLowerCase())?e.removeAttribute("hidden"):e.setAttribute("hidden",""),!e.hasAttribute("hidden")))).length},this.handleFilterReset=()=>{this.reset(),this.inputElement.value="",this.handleFilter({target:{value:this.inputElement.value}}),this.inputElement.focus()},this.handleFocus=e=>{this.tdsFocus.emit(e)},this.handleBlur=e=>{this.tdsBlur.emit(e)},this.handleChange=()=>{var e,t;this.tdsChange.emit({name:this.name,value:null!==(t=null===(e=this.value)||void 0===e?void 0:e.map((e=>e)).toString())&&void 0!==t?t:null})},this.name=void 0,this.disabled=!1,this.helper=void 0,this.label=void 0,this.labelPosition=void 0,this.modeVariant=null,this.openDirection="auto",this.placeholder=void 0,this.size="lg",this.error=!1,this.multiselect=!1,this.filter=!1,this.normalizeText=!0,this.noResultText="No result",this.defaultValue=void 0,this.open=!1,this.value=void 0,this.filterResult=void 0,this.filterFocus=void 0}async reset(){this.internalReset(),this.handleChange()}async setValue(e,t){let o;o="string"===typeof e?[e]:e,!this.multiselect&&o.length>1&&(console.warn("Tried to select multiple items, but multiselect is not enabled."),o=[o[0]]),this.internalReset();for(let s=0;s<o.length;s++){this.getChildren().some((e=>e.value===o[s]))||o.splice(s,1)}this.value=o,this.setValueAttribute(),this.selectChildrenAsSelectedBasedOnSelectionProp(),this.handleChange();const l=this.getSelectedChildren().map((e=>({value:e.value,label:e.textContent.trim()})));return this.filter&&(this.inputElement.value=this.getValue()),l}async appendValue(e){this.multiselect&&this.value?this.setValue([...this.value,e]):this.setValue(e)}async removeValue(e){var t,o;let l;return this.multiselect?null===(t=this.getChildren())||void 0===t||t.forEach((t=>{var o;return t.value===e&&(this.value=null===(o=this.value)||void 0===o?void 0:o.filter((e=>e!==t.value)),l=t.textContent.trim(),t.setSelected(!1)),t})):this.reset(),this.handleChange(),this.setValueAttribute(),null===(o=this.value)||void 0===o?void 0:o.map((e=>({value:e,label:l})))}async close(){this.open=!1}onAnyClick(e){if(this.open){!e.composedPath().includes(this.host)&&(this.open=!1)}}async onKeyDown(e){const{activeElement:t}=document;if(!t)return;const o=this.getChildren();if("ArrowDown"===e.key){const e=t.nextElementSibling?o.findIndex((e=>e===t.nextElementSibling)):0;o[((e,t)=>{if(void 0===e[t])return 0;for(let o=t;o<e.length;o++)if(!e[o].disabled)return o})(o,e)].focus()}else if("ArrowUp"===e.key){o[((e,t)=>{if(void 0===e[t])return e.length-1;for(let o=t;o>=0;o--)if(!e[o].disabled)return o})(o,t.nextElementSibling?this.getChildren().findIndex((e=>e===t.previousElementSibling)):0)].focus()}else"Escape"===e.key&&(this.open=!1)}handleOpenState(){this.filter&&this.multiselect&&(this.open||(this.inputElement.value=this.getValue()))}componentWillLoad(){this.setDefaultOption()}handleSlotChange(){this.setDefaultOption()}normalizeString(e){return this.normalizeText?e.normalize("NFD").replace(/\p{Diacritic}/gu,""):e}internalReset(){this.getChildren().forEach((e=>(e.setSelected(!1),e))),this.value=null,this.setValueAttribute()}selectChildrenAsSelectedBasedOnSelectionProp(){this.getChildren().forEach((e=>{this.value.forEach((t=>{e.value!==t?this.multiselect||e.setSelected(!1):e.setSelected(!0)}))}))}render(){var e,t,o,s;return((e,t,o,l,s)=>{let i=e.querySelector("input");e.querySelector("input")||(i=e.ownerDocument.createElement("input"),i.type="hidden",s&&s.forEach((e=>i.setAttribute(e.key,e.value))),e.appendChild(i)),i.disabled=l,i.name=t,i.value=o||""})(this.host,this.name,null===(e=this.value)||void 0===e?void 0:e.map((e=>e)).toString(),this.disabled),(0,l.h)(l.H,{key:"451edf7c5eaa096500d8d989bd9cddc60a5fd5d8",role:"select",class:"".concat(this.modeVariant?"tds-mode-variant-".concat(this.modeVariant):"")},this.label&&"outside"===this.labelPosition&&(0,l.h)("div",{class:"label-outside ".concat(this.disabled?"disabled":"")},this.label),(0,l.h)("div",{key:"c7e3d77ba79b6e135aa960bc8e56c2d41ae3ec2e",class:"dropdown-select ".concat(this.size," ").concat(this.disabled?"disabled":"")},this.filter?(0,l.h)("div",{class:{filter:!0,focus:this.filterFocus,disabled:this.disabled,error:this.error}},(0,l.h)("div",{class:"value-wrapper"},this.label&&"inside"===this.labelPosition&&this.placeholder&&(0,l.h)("div",{class:"label-inside ".concat(this.size)},this.label),this.label&&"inside"===this.labelPosition&&!this.placeholder&&(0,l.h)("div",{class:"\n                    label-inside-as-placeholder\n                    ".concat(this.size,"\n                    ").concat((null===(t=this.value)||void 0===t?void 0:t.length)?"selected":"","\n                    ")},this.label),(0,l.h)("input",{ref:e=>this.inputElement=e,class:"".concat("inside"===this.labelPosition?"placeholder":""),type:"text",placeholder:this.placeholder,value:this.getValue(),disabled:this.disabled,onInput:e=>this.handleFilter(e),onBlur:e=>{this.filterFocus=!1,this.handleBlur(e)},onFocus:e=>{this.open=!0,this.filterFocus=!0,this.handleFocus(e)},onKeyDown:e=>{"Escape"===e.key&&(this.open=!1)}})),(0,l.h)("tds-icon",{tabIndex:0,role:"button","aria-label":"Clear filter",svgTitle:"Clear filter",onClick:this.handleFilterReset,onKeyDown:e=>{"Enter"===e.key&&this.handleFilterReset()},class:"clear-icon ".concat(this.open&&""!==this.inputElement.value?"":"hide"),name:"cross",size:"16px"}),(0,l.h)("tds-icon",{tabIndex:0,role:"button","aria-label":"Open/Close dropdown",svgTitle:"Open/Close dropdown",onClick:this.handleToggleOpen,onKeyDown:e=>{"Enter"===e.key&&this.handleToggleOpen()},class:"menu-icon ".concat(this.open?"open":"closed"),name:"chevron_down",size:"16px"})):(0,l.h)("button",{onClick:()=>this.handleToggleOpen(),onKeyDown:e=>{"Escape"===e.key&&(this.open=!1)},class:"\n                ".concat(this.value?"value":"placeholder","\n                ").concat(this.open?"open":"closed","\n                ").concat(this.error?"error":"","\n                "),disabled:this.disabled},(0,l.h)("div",{class:"value-wrapper ".concat(this.size)},this.label&&"inside"===this.labelPosition&&this.placeholder&&(0,l.h)("div",{class:"label-inside ".concat(this.size)},this.label),this.label&&"inside"===this.labelPosition&&!this.placeholder&&(0,l.h)("div",{class:"\n                    label-inside-as-placeholder\n                    ".concat(this.size,"\n                    ").concat((null===(o=this.value)||void 0===o?void 0:o.length)?"selected":"","\n                    ")},this.label),(0,l.h)("div",{class:"placeholder ".concat(this.size)},(null===(s=this.value)||void 0===s?void 0:s.length)?this.getValue():this.placeholder),(0,l.h)("tds-icon",{"aria-label":"Open/Close dropdown",svgTitle:"Open/Close dropdown",class:"menu-icon ".concat(this.open?"open":"closed"),name:"chevron_down",size:"16px"})))),(0,l.h)("div",{key:"cd63a354addfbcbfb2bb355b1e053b93dd9d3864",ref:e=>this.dropdownList=e,class:"dropdown-list\n            ".concat(this.size,"\n            ").concat(this.open?"open":"closed","\n            ").concat(this.getOpenDirection(),"\n            ").concat(this.label&&"outside"===this.labelPosition?"label-outside":"")},(0,l.h)("slot",{key:"9a4feeed475bde225d19e01f17e4eadc292c6f41",onSlotchange:()=>this.handleSlotChange()}),0===this.filterResult&&""!==this.noResultText&&(0,l.h)("div",{class:"no-result ".concat(this.size)},this.noResultText)),this.helper&&(0,l.h)("div",{class:"helper ".concat(this.error?"error":""," ").concat(this.disabled?"disabled":"")},this.error&&(0,l.h)("tds-icon",{name:"error",size:"16px"}),this.helper))}get host(){return(0,l.g)(this)}static get watchers(){return{open:["handleOpenState"]}}};s.style='@charset "UTF-8";:host button{all:unset;height:100%;width:100%;background-color:var(--tds-dropdown-bg);border-bottom:1px solid var(--tds-dropdown-border-bottom);border-radius:4px 4px 0 0}:host button:hover{border-bottom:1px solid var(--tds-dropdown-border-bottom-hover)}:host button .value-wrapper{padding:0 16px;display:flex;align-items:center;justify-content:space-between}:host button.placeholder{color:var(--tds-dropdown-placeholder-color);line-height:1.3}:host button.value{color:var(--tds-dropdown-value-color);font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);line-height:1.3}:host button:focus{border-bottom-color:var(--tds-dropdown-border-bottom-open)}:host button:focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background:var(--tds-dropdown-border-bottom-open)}:host button.error{border-bottom:1px solid var(--tds-negative)}:host button.error:focus{border-bottom-color:transparent}:host button.error:focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-negative)}:host button:disabled{color:var(--tds-dropdown-disabled-color);border-bottom:1px solid transparent}:host button .menu-icon{margin-right:0px}:host .filter{display:flex;align-items:center;justify-content:space-between;height:100%;background-color:var(--tds-dropdown-bg);border-bottom:1px solid var(--tds-dropdown-border-bottom);padding-left:16px;border-radius:4px 4px 0 0}:host .filter:hover{border-bottom:1px solid var(--tds-dropdown-border-bottom-hover)}:host .filter.disabled{color:var(--tds-dropdown-disabled-color);border-bottom:1px solid transparent}:host .filter .value-wrapper{display:flex;width:100%;height:100%}:host .filter .label-inside-as-placeholder{position:absolute;font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);line-height:1.3;color:var(--tds-dropdown-placeholder-color)}:host .filter .label-inside-as-placeholder.lg{top:20px}:host .filter .label-inside-as-placeholder.md{top:16px}:host .filter .label-inside-as-placeholder.sm{display:none}:host .filter .label-inside-as-placeholder.selected{font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);transition:all 0.2s ease-in-out}:host .filter .label-inside-as-placeholder.selected.lg{top:12px}:host .filter .label-inside-as-placeholder.selected.md{top:8px}:host .filter .label-inside-as-placeholder.selected.sm{display:none}:host .filter .label-inside-as-placeholder.selected+.placeholder:not(.sm){margin-top:8px}:host .filter.focus{border-bottom-color:transparent}:host .filter.focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-dropdown-border-bottom-open)}:host .filter.error{border-bottom:1px solid var(--tds-negative)}:host .filter.error.focus{border-bottom-color:transparent}:host .filter.error.focus::before{content:"";position:absolute;bottom:0;left:0;width:100%;height:2px;background:var(--tds-negative)}:host .filter input{flex:1;all:unset;width:100%}:host .filter input::placeholder{color:var(--tds-dropdown-placeholder-color)}:host .filter input:disabled::placeholder{color:var(--tds-dropdown-disabled-color)}:host .filter tds-icon{cursor:pointer}:host .filter .menu-icon{margin-right:16px}:host .filter .clear-icon{margin:0 8px;color:var(--tds-dropdown-clear-icon-color);padding-right:8px;border-right:1px solid var(--tds-dropdown-clear-icon-color)}:host .filter .clear-icon:hover{color:var(--tds-dropdown-clear-icon-hover-color)}:host .filter .clear-icon.hide{display:none;visibility:hidden}:host{display:block;position:relative;font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls)}:host .label-outside{font:var(--tds-detail-05);letter-spacing:var(--tds-detail-05-ls);color:var(--tds-dropdown-label-color);margin-bottom:8px}:host .label-outside.disabled{color:var(--tds-dropdown-disabled-color)}:host .dropdown-select{position:relative}:host .dropdown-select.disabled .label-inside,:host .dropdown-select.disabled .placeholder,:host .dropdown-select.disabled .label-inside-as-placeholder,:host .dropdown-select.disabled .value-wrapper{color:var(--tds-dropdown-disabled-color)}:host .dropdown-select .label-inside{position:absolute;font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);color:var(--tds-dropdown-label-inside-color)}:host .dropdown-select .label-inside.lg{top:12px;left:16px}:host .dropdown-select .label-inside.md{top:8px;left:16px}:host .dropdown-select .label-inside.sm{display:none}:host .dropdown-select .label-inside+.placeholder:not(.sm){margin-top:8px}:host .dropdown-select .placeholder{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .dropdown-select .label-inside-as-placeholder{color:var(--tds-dropdown-placeholder-color)}:host .dropdown-select .label-inside-as-placeholder.selected{position:absolute;font:var(--tds-detail-07);letter-spacing:var(--tds-detail-07-ls);transition:all 0.2s ease-in-out}:host .dropdown-select .label-inside-as-placeholder.selected.lg{top:12px}:host .dropdown-select .label-inside-as-placeholder.selected.md{top:8px}:host .dropdown-select .label-inside-as-placeholder.selected.sm{display:none}:host .dropdown-select .label-inside-as-placeholder.selected+.placeholder:not(.sm){margin-top:8px}:host .dropdown-select.lg{height:55px}:host .dropdown-select.md{height:47px}:host .dropdown-select.sm{height:39px}:host .helper{margin-top:4px;color:var(--tds-dropdown-helper-color);font:var(--tds-detail-05);letter-spacing:var(--tds-detail-05-ls);display:flex;align-items:center;gap:8px}:host .helper.error{color:var(--tds-negative)}:host .helper.disabled{color:var(--tds-dropdown-disabled-color)}:host .dropdown-list{z-index:100;position:absolute;margin-top:1px;width:100%;transform-origin:top;transition:transform 0.2s ease-in-out;box-shadow:rgba(0, 0, 0, 0.1) 0 2px 3px 0;border-radius:0 0 4px 4px;overflow-y:auto}:host .dropdown-list::-webkit-scrollbar{width:4px;background-color:inherit}:host .dropdown-list::-webkit-scrollbar-thumb{background-color:var(--tds-grey-300)}:host .dropdown-list ::-webkit-scrollbar-button{height:0;width:0}:host .dropdown-list.lg{max-height:312px}:host .dropdown-list.md{max-height:312px}:host .dropdown-list.sm{max-height:260px}:host .dropdown-list.up{bottom:100%;margin-top:0;margin-bottom:1px;transform-origin:bottom;display:flex;flex-direction:column-reverse;box-shadow:rgba(0, 0, 0, 0.1) 0 -1px 3px 0;border-radius:4px 4px 0 0}:host .dropdown-list.up.label-outside{bottom:calc(100% - 24px)}:host .dropdown-list.closed{transform:scaleY(0);visibility:hidden}:host .dropdown-list.open{transform:scaleY(1)}:host .dropdown-list .no-result{font:var(--tds-detail-02);letter-spacing:var(--tds-detail-02-ls);display:flex;align-items:center;padding:0 16px;background-color:var(--tds-dropdown-bg)}:host .dropdown-list .no-result.lg{height:56px}:host .dropdown-list .no-result.md{height:48px}:host .dropdown-list .no-result.sm{height:40px}:host .menu-icon{color:var(--tds-dropdown-menu-icon-color)}:host tds-icon{transition:transform 0.2s ease-in-out}:host tds-icon.open{transform:rotateZ(180deg)}'}}]);
//# sourceMappingURL=6520.33b5064d.chunk.js.map